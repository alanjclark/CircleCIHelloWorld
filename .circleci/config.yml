version: 2.1

jobs: 
  build:
    docker:
      - image: cimg/node:19.6.0
    resource_class: medium
    steps: 
      - run:
          name: Background Disk Space
          command: |
            while true; do
              sleep 5
              df -h
              echo "\n===========\n"
            done
          background: true
      - run: 
          name: Install sdkman
          command: |
            curl -s "https://get.sdkman.io" | bash
            source "$HOME/.sdkman/bin/sdkman-init.sh"
          
workflows:
  build_and_deploy:
    jobs:
      - build