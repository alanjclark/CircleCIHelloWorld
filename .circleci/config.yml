version: 2.1

jobs:
  build:
    working_directory: ~/repo
    machine:
      image: ubuntu-2204:2022.04.1
    steps:
      
      - run:
          name: 'Install Project Node'
          command: |
            set +x
            source ~/.bashrc
            node -e "console.log(process.versions)" | grep openssl
            nvm install 12
            NODE_DIR=$(dirname $(which node))
            echo "export PATH=$NODE_DIR:\$PATH" >> $BASH_ENV
            node -e "console.log(process.versions)" | grep openssl

      - run:
          name: Check OpenSSL Version
          command: openssl version

workflows:
  build:
    jobs:
      - build